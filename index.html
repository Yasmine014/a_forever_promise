<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Private Daily Calendar</title>
  <style>
    :root{
      --bg: #0f172a;           /* slate-900 */
      --panel: #111827;        /* gray-900 */
      --card: #0b1224;         /* dark blue-ish */
      --muted: #64748b;        /* slate-500 */
      --text: #e5e7eb;         /* gray-200 */
      --accent: #60a5fa;       /* blue-400 */
      --accent-2: #38bdf8;     /* sky-400 */
      --green-500:#16a34a;     /* green */
      --green-700:#15803d;
      --orange-500:#f59e0b;    /* orange */
      --orange-700:#b45309;
      --danger:#ef4444;        /* red-500 */
      --ring: 0 0 0 2px rgba(96,165,250,.5);
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{margin:0;background: radial-gradient(1200px 700px at 15% -10%, #1e293b 0%, #0f172a 40%, #0b1224 100%); color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}

    .container{max-width: 980px; margin: 32px auto; padding: 16px;}

    header{
      display:flex; align-items:center; justify-content:space-between;
      padding:20px 24px; border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(96,165,250,.15), rgba(56,189,248,.08));
      border:1px solid rgba(148,163,184,.15);
      box-shadow: var(--shadow);
      gap: 12px;
    }
    header h1{margin:0; font-weight:700; letter-spacing:.3px;}
    .countdown{font-size:14px; color:#cbd5e1}
    .countdown strong{color:#f8fafc}

    .panel{margin-top:20px; background:rgba(255,255,255,.02); border:1px solid rgba(148,163,184,.12); border-radius:var(--radius); box-shadow: var(--shadow);}

    .toolbar{
      display:flex; align-items:center; justify-content:space-between; padding:16px 20px; border-bottom: 1px solid rgba(148,163,184,.12);
    }
    .toolbar .left{display:flex; align-items:center; gap:10px}
    .btn{appearance:none; border:1px solid rgba(148,163,184,.25); background:rgba(255,255,255,.03); color:var(--text); padding:8px 12px; border-radius:10px; cursor:pointer}
    .btn:hover{box-shadow: var(--ring)}
    .month-label{font-weight:600; letter-spacing:.4px}

    .legend{display:flex; align-items:center; gap:16px; font-size:12px; color:#cbd5e1}
    .legend .chip{display:inline-flex; align-items:center; gap:6px}
    .legend .box{width:12px; height:12px; border-radius:3px; display:inline-block}
    .legend .green{background: rgba(22,163,74,.9); border:1px solid rgba(21,128,61,.9)}
    .legend .orange{background: rgba(245,158,11,.9); border:1px solid rgba(180,83,9,.9)}

    .calendar{padding: 10px 16px 20px 16px}
    .weekday-row{display:grid; grid-template-columns: repeat(7, 1fr); gap:8px; font-size:12px; color:#a8b1c0; padding:8px 4px 4px 4px}
    .weekday{opacity:.9; text-align:center}

    .grid{display:grid; grid-template-columns: repeat(7, 1fr); gap:10px}

    .cell{
      border-radius:14px; padding:10px; min-height:86px; position:relative; border:1px solid rgba(148,163,184,.15);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    }
    .cell.today{outline:2px dashed rgba(96,165,250,.7); outline-offset:2px}
    .cell.dim{opacity:.35}
    .cell.has-entry{background: linear-gradient(180deg, rgba(22,163,74,.2), rgba(22,163,74,.08)); border-color: rgba(21,128,61,.6)}
    .cell.no-entry{background: linear-gradient(180deg, rgba(245,158,11,.18), rgba(245,158,11,.06)); border-color: rgba(180,83,9,.6)}
    .cell:hover{transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,.35)}
    .daynum{font-weight:700; font-size:14px; color:#f1f5f9}
    .preview{margin-top:6px; font-size:12px; color:#cbd5e1; max-height:36px; overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical}
    .clickable{cursor:pointer}

    /* Modal */
    .modal-backdrop{position:fixed; inset:0; background:rgba(2,6,23,.6); display:none; align-items:center; justify-content:center; padding:20px; z-index:40}
    .modal{max-width:720px; width:100%; background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(148,163,184,.2); border-radius:var(--radius); box-shadow: var(--shadow);}
    .modal header{background:transparent; border:none; box-shadow:none; padding:18px 20px;}
    .modal .content{padding: 0 20px 20px}
    .modal .content pre{white-space:pre-wrap; word-break:break-word; font-family:inherit; font-size:15px; color:#e2e8f0; background: rgba(2,6,23,.35); padding:14px; border-radius:12px; border:1px solid rgba(148,163,184,.15)}
    .modal footer{display:flex; justify-content:flex-end; gap:10px; padding:14px 20px 18px}

    .footer-note{font-size:12px; color:#93a4bb; margin-top:12px; text-align:center}

    /* Gate */
    .gate{max-width:520px; margin:60px auto; padding:24px; background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(148,163,184,.2); border-radius:var(--radius); box-shadow: var(--shadow)}
    .gate h2{margin:0 0 10px 0}
    .input{width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(148,163,184,.35); background:rgba(255,255,255,.06); color:var(--text)}
    .input:focus{outline:none; box-shadow: var(--ring)}
    .error{color:var(--danger); font-size:12px; height:16px}

    @media (max-width:720px){
      .cell{min-height:72px}
      header{flex-direction:column; align-items:flex-start}
    }
  </style>
</head>
<body>
  <!-- PASSWORD GATE (client-side only; casual privacy, not strong security) -->
  <div id="gate" class="container">
    <div class="gate">
      <h2>Enter password to view</h2>
      <p class="muted" style="color:#cbd5e1;margin-top:0">This is a client‑side lock for convenience. Do not store secrets; a determined user could view the source.</p>
      <input id="pw" class="input" type="password" placeholder="Password" />
      <div class="error" id="pwError"></div>
      <button class="btn" id="openBtn">Open</button>
    </div>
  </div>

  <div id="app" class="container" hidden>
    <header>
      <h1>My Daily Calendar</h1>
      <div class="countdown" id="countdown"></div>
    </header>

    <div class="panel">
      <div class="toolbar">
        <div class="left">
          <button class="btn" id="prevMonth" aria-label="Previous month">◀</button>
          <div class="month-label" id="monthLabel">Month YYYY</div>
          <button class="btn" id="nextMonth" aria-label="Next month">▶</button>
        </div>
        <div class="legend">
          <span class="chip"><span class="box green"></span> Entry</span>
          <span class="chip"><span class="box orange"></span> No entry</span>
        </div>
      </div>

      <div class="calendar">
        <div class="weekday-row" id="weekdayRow"></div>
        <div class="grid" id="grid"></div>
      </div>
    </div>

    <p class="footer-note">Tip: To add or edit entries, open this file in your repo and update the JSON block at the bottom (look for <code>id="entries-json"</code>).</p>
  </div>

  <!-- MODAL -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-labelledby="modalDateLabel">
    <div class="modal">
      <header>
        <h3 id="modalDateLabel" style="margin:0"></h3>
        <div style="font-size:12px;color:#cbd5e1">Entry</div>
      </header>
      <div class="content">
        <pre id="modalBody">No entry.</pre>
      </div>
      <footer>
        <button class="btn" id="closeModal">Close</button>
      </footer>
    </div>
  </div>

  <!--
    ✅ HOW TO USE / UPDATE ENTRIES
    1) Change the SECRET below to your password (between the quotes).
    2) Update the JSON (id="entries-json") with your daily notes. Keys are dates in YYYY-MM-DD.
       Example: { "2025-09-17": "I wrote a note." }
    3) Commit & push to GitHub Pages (or Netlify). Share the site URL + password with your reader.
  -->
  <script>
    // === 1) CHANGE THIS PASSWORD ===
    const SECRET = "StillYours"; // <- Replace with your password

    // === 2) WEEKDAY HEADERS ===
    const WEEKDAYS = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]; // Change order if you want Mon first

    const $ = (sel) => document.querySelector(sel);
    const grid = $("#grid");
    const monthLabel = $("#monthLabel");
    const countdownEl = $("#countdown");

    // Password gate
    $("#openBtn").addEventListener("click", () => {
      const v = $("#pw").value;
      if(v === SECRET){
        $("#gate").hidden = true;
        $("#app").hidden = false;
        renderAll();
      } else {
        $("#pwError").textContent = "Wrong password";
      }
    });
    $("#pw").addEventListener("keydown", (e)=>{ if(e.key==='Enter') $("#openBtn").click(); });

    // Modal controls
    const backdrop = $("#modalBackdrop");
    $("#closeModal").addEventListener("click", ()=> backdrop.style.display='none');
    backdrop.addEventListener("click", (e)=>{ if(e.target===backdrop) backdrop.style.display='none'; });

    // Build weekday header
    (function(){
      const row = $("#weekdayRow");
      row.innerHTML = WEEKDAYS.map(d=>`<div class="weekday">${d}</div>`).join("");
    })();

    // Calendar state
    let today = new Date();
    let viewYear = today.getFullYear();
    let viewMonth = today.getMonth(); // 0..11

    $("#prevMonth").addEventListener("click", ()=>{ shiftMonth(-1); });
    $("#nextMonth").addEventListener("click", ()=>{ shiftMonth(1); });

    function shiftMonth(delta){
      viewMonth += delta;
      if(viewMonth<0){ viewMonth=11; viewYear--; }
      if(viewMonth>11){ viewMonth=0; viewYear++; }
      renderCalendar();
    }

    function renderAll(){
      renderCountdown();
      renderCalendar();
    }

    function monthName(y,m){
      return new Date(y,m,1).toLocaleString(undefined, {month:'long', year:'numeric'});
    }

    function dateKey(y,m,d){
      return `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    }

    function renderCalendar(){
      monthLabel.textContent = monthName(viewYear, viewMonth);
      grid.innerHTML = "";

      const first = new Date(viewYear, viewMonth, 1);
      const firstDow = first.getDay(); // 0..6
      const daysInMonth = new Date(viewYear, viewMonth+1, 0).getDate();

      // Leading blanks
      for(let i=0;i<firstDow;i++){
        const div = document.createElement('div');
        div.className = 'cell dim';
        grid.appendChild(div);
      }

      // Days
      for(let d=1; d<=daysInMonth; d++){
        const k = dateKey(viewYear, viewMonth, d);
        const has = !!ENTRIES[k];
        const div = document.createElement('div');
        div.className = 'cell clickable ' + (has ? 'has-entry' : 'no-entry');

        const isToday = (viewYear===today.getFullYear() && viewMonth===today.getMonth() && d===today.getDate());
        if(isToday) div.classList.add('today');

        const title = document.createElement('div');
        title.className = 'daynum';
        title.textContent = d;

        const prev = document.createElement('div');
        prev.className = 'preview';
        prev.textContent = has ? previewText(ENTRIES[k]) : '—';

        div.appendChild(title);
        div.appendChild(prev);

        div.addEventListener('click', ()=> openModal(k));

        grid.appendChild(div);
      }
    }

    function previewText(s){
      s = String(s||'');
      return s.length>80 ? s.slice(0,80)+"…" : s;
    }

    function openModal(key){
      const dt = new Date(key);
      const nice = dt.toLocaleDateString(undefined, { weekday:'long', year:'numeric', month:'long', day:'numeric'});
      $("#modalDateLabel").textContent = nice;
      const text = ENTRIES[key] || 'No entry for this day.';
      $("#modalBody").textContent = text;
      backdrop.style.display = 'flex';
    }

    function renderCountdown(){
      const now = new Date();
      let targetYear = now.getFullYear();
      const target = new Date(targetYear, 10, 15); // Nov=10
      const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());
      const startOfTarget = new Date(target.getFullYear(), target.getMonth(), target.getDate());
      if(startOfToday > startOfTarget){ // already past Nov 15 this year
        targetYear++;
      }
      const finalTarget = new Date(targetYear, 10, 15);
      const diffDays = Math.max(0, Math.ceil((finalTarget - startOfToday) / (1000*60*60*24)));
      countdownEl.innerHTML = `<strong>${diffDays}</strong> days left until <strong>15 November ${finalTarget.getFullYear()}</strong>`;
    }
  </script>

  <!--
    === 3) YOUR ENTRIES (JSON) ===
    Edit the JSON below. Keep it valid JSON: keys are dates (YYYY-MM-DD), values are strings.
    Tip: use \n for a new line inside an entry.
  -->
  <script id="entries-json" type="application/json">
  {
    "2025-09-16": "I felt like you don't hate me today, I will see how far can we go with our love before we get back together, because we will. Not like we used to, because that was really bad, but we will and even if we don't I will accept all the pain and all the hurt that comes with it, and I will be strong and I will wait for no matter how long you feel it is necessary to wait.",
    "2025-09-17": "It is crazy how weak the human being can be. I decide to be autonomous and to accept whatever comes my way but then just a small flu and a high fever are making me wanna fall into your arms and sleep. I try to hold my head up but it makes me nauseous and my eyes are burning like hell and all I wanna do is have a look at you before I close them and get some rest. It's all funny! What a human cares about and what he doesn't care about...\n I didn't care about death but 't3ez aaleya rouhi' when I'm sick and you're not here...\n You throw me away like a piece of garbage but you care enough to bring me medication...\n What a crazy world we're living in. I don't understand it Yasmine, I cannot understand it. And everything is ruined, I see no future but... I know someday I will have you like I have never had you before, someday you're gonna know me and forget about everything and everyone else. These are shattered midday thoughts, where you are a few meters from me but world apart." 
    
  }
  </script>

  <script>
    // Load entries JSON from the script tag so it's easy to edit in GitHub's web UI
    const dataTag = document.getElementById('entries-json');
    let ENTRIES = {};
    try{
      ENTRIES = JSON.parse((dataTag.textContent||'{}').trim() || '{}');
    }catch(e){
      console.error('Invalid JSON in entries-json', e);
      ENTRIES = {};
    }
  </script>
</body>
</html>
